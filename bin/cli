#!/usr/bin/env node

const { init } = require('../lib/init');

const argv = require('yargs/yargs')(process.argv.slice(2))
  .usage('Usage: $0 <app-name> --template <tempalte>')
  .option('template', {
    type: 'string',
    alias: 't',
    demandOption: true,
    description: 'vanilla, react, react-ts, vue, vue-ts, svelte, svelte-ts',
  })
  .check((argv) => {
    switch (argv.template) {
      case 'vanilla':
      case 'react':
      case 'react-ts':
      case 'vue':
      case 'vue-ts':
      case 'svelte':
      case 'svelte-ts':
        return true;
      default:
        return false;
    }
  })
  .help()
  .locale('en').argv;

if (argv._.length === 0 || argv._.length >= 2 || argv._[0].startsWith('-')) {
  console.log('You must specify a single project name.');
  return;
}

init(argv._[0], argv.template);
